# PySetup Installation Utility

PySetup is a setup program for Python scripts.

PySetup works by converting the `.py` script into one binary, containing libraries
(DLLs/Shared Libraries/Python Packages), which can fit into one setup program.

## Features

* Extensible via Python scripting, allowing implementation of additional files, custom pages, and more.
  Custom themes will be added soon.
* Apps are compiled into a single binary, so PySetup supports systems with or without Python.
   * Windows programs are compiled into `.exe` files. Darwin and Linux kernel programs are
     compiled into a basic binary for the program itself, while the setup tool is compiled into
     an AppImage (`.dmg`, `.deb` and `.rpm` packages can also be built).
* DLLs (Win32 libraries) and shared objects (Unix libraries) are packed automatically.
* Command-line installer is available to install programs on a server. On GNU/Linux, it is enabled
  by default if no X11 display can be found.
* Automatically packs your modules.

## Disadvantages

* No native Wayland support.
   * It will by overcome be a very long time for Tk to get native Wayland
     support (possibly, **never**). For now, you can fork the PySetup project and
     use a Wayland-capable GUI toolkit for that fork.

## Generation

Download the PySetup Toolkit via one of these methods:

* **GitHub Releases**: GitHub Releases is a GitHub functionallity that offers the ability to package
  software for any operating system. GitHub Releases is the main host for PySetup. It is recommended
  to download PySetup through GitHub Releases.
  
  [**Download through GHR...**](https://github.com/TylerMS887/pysetup/releases/latest)

* **GitHub Actions**: If you would like to test nightly builds of PySetup, download the PySetup toolkit through
  GitHub Actions. Just scroll to "Artifacts" and download the binary for your OS. (For FreeBSD, PySetup works
  through Linux binary support.) When reporting issues, always test on this version.
  
  > **Warning**: You need to be logged into GitHub to download through GitHub Actions.
  
  [**Login to GitHub...**](https://github.com/login)
  
  After logging in, download the binary:</br>
  [**Download through GHA...**](https://github.com/TylerMS887/pysetup/actions)

We are going to create a new project folder, to ensure the current directory is not messed up:

```
mkdir ~/pysetup-example
cd ~/pysetup-example
```

Assume you have a simple `hello.py` script in your working directory. To create one in BASH, type this command:

```
echo 'print("Hello World from PySetup!")' >> hello.py
```

To create the project configuration file, which is needed to generate an installer program, run this command:

```
$ pysetup ensureconfig
Select your script (*.py, *.pyw).
  > hello.py

PySetup project configuration will be generated and a code file will be created.
Continue? (Y/N)                                      <---- Type Y at this point!

Project configuration has been created.
(To change configuration later, edit pysetup_project.yaml.)

Custom code has also been created at pysetup_project.py.
pysetup_project.py will be executed when PySetup starts.
```

A new file called `pysetup_project.yaml` will be created. It contains metadata for your setup program:

```yaml
# PySetup project configuration file.
#
# Generated by the PySetup command line tool.
#
# For extensibillity support, please use the code functionallity by
# editing the pysetup_project.py file.
#
# For information on writing a pysetup_project.yaml and pysetup_project.py,
# visit https://tyler887.github.io/pysetup

info:
  app_name: My script
  app_version: 1.0
  app_publisher: My Company, Inc.

files:
  script: 

conditions:
  windows_minver: 10.20h2 # Windows 8.1/Server 2012 to Windows 11/Server 2022
  linux_kernel_minver: 4.0 # Minimum Linux kernel version

appearance:
  theme: pysetup # pysetup or tk. pysetup is the PySetup modern theme while tk is the old-looking
                 # theme that comes with Tcl/Tk. Does not take effect in the command-line installer.
```

To test the installer GUI, execute the following command:

```
$ pysetup run
Creating install script...
Interpreting install script...
           --------- PySetup 1.0 ---------
 You are in GUI mode. Only exceptions and logs are printed
 here in the GUI mode.
 
 Use the newly created window to complete the install form.
```

To test the installer CLI, execute the following command:

```
$ pysetup run --cli
Creating install script...
[screen clear]
My script Setup                                          Version: 1.0
---------------------------------------------------------------------
Select your language. This language will be used during
the installation.

Use the arrow keys to select an option. Press Enter to start
installing My script.

   ____________________________________________________________
  | Select Language                                         [X]|
  |------------------------------------------------------------|
  | > English                                                  |
  '____________________________________________________________'
```

To generate the `hello.py` installer, execute the following command:

```
$ pysetup package
     ------- [Packaging Script] -------
Converting script into .PYZ...
Packaging script for Windows...
Packaging script for Mac/Linux (AppImage)...
     -------- [Adding PySetup] --------
Creating install script...
Packaging installer for Windows...
  > Installer: myscript-1.0.exe
Packaging installer for Mac/Linux (AppImage)...
  > Installer:   mac/MyScript-v1.0-Installer.AppImage
               linux/MyScript-v1.0-Installer.AppImage

Warning for Mac testing: There is no cheap Mac in Earth. All Macs
cost more than $100/Â£100. Same for MacBooks and most other Apple products.
If you don't have enough money for a Mac or MacBook, you must setup a
Hackintosh, which takes hours to set up and the worst part of it - it's illegal
in a lot of countries.

                  Packaging complete!
```
